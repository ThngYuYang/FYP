
@model DataRowCollection
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Be Social - Subscriptions</title>
    <link href="~/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <script src="~/lib/jquery/jquery.min.js"></script>
    <script src="~/lib/bootstrap/js/bootstrap.min.js"></script>
    <link href="~/lib/font-awesome/css/fontawesome.min.css" rel="stylesheet" />
    <link href="~/lib/font-awesome/css/brands.min.css" rel="stylesheet" />
    <link href="~/lib/font-awesome/css/solid.min.css" rel="stylesheet" />
</head>
<body>

    @{
        // TODO: L07 Task 5 - Complete this view
    }


    @await Html.PartialAsync("SocNavBar")

    <div class="container">
        <h3>All Subscriptions</h3>

        @if (TempData["Message"] != null)
        {
            <div class="alert alert-@TempData["MsgType"]">
                @TempData["Message"]
            </div>
        }

        @if (Model != null)
        {
            <table class='table table-striped table-hover'>
                <tr>
                    <th>Subscription</th>
                    <th>Family Name</th>
                    <th>First Name</th>
                    <th>Username</th>
                    <th>Provider</th>
                    <th>Date Subscribed</th>
                    <th>Action</th>
                </tr>

                @foreach (DataRow row in Model)
                {
                    <tr>
                        <td>@row["subscription_id"]</td>
                        <td>@row["family_name"]</td>
                        <td>@row["first_name"]</td>
                        <td>@row["username"]</td>
                        <td>@row["name"]</td>
                        <td>@String.Format("{0:yyyy-MM-dd}", @row["date_subscribed"])</td>
                        <td>
                            <a href="/Subscription/SubscriptionEdit/@row["subscription_id"]">
                                Edit
                            </a>
                            |
                            <a href="/Subscription/SubscriptionDelete/@row["subscription_id"]"
                               onclick="return confirm('Delete Subscription [@row["subscription_id"]]')">
                                Delete
                            </a>
                        </td>
                    </tr>
                }
            </table>
        }
        else
        {
            <p class="alert alert-danger">No Subscriptions found.</p>
        }
    </div>

</body>
</html>
@*Thng Yu Yang 20031509*@
