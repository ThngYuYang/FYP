
@model DataRowCollection
<!DOCTYPE html>
<html>
<head>
   <meta name="viewport" content="width=device-width" />
   <title>Be Social - Subscribers</title>
   <link href="~/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
   <script src="~/lib/jquery/jquery.min.js"></script>
   <script src="~/lib/bootstrap/js/bootstrap.min.js"></script>
   <link href="~/lib/font-awesome/css/fontawesome.min.css" rel="stylesheet" />
   <link href="~/lib/font-awesome/css/brands.min.css" rel="stylesheet" />
   <link href="~/lib/font-awesome/css/solid.min.css" rel="stylesheet" />
</head>
<body>
   @await Html.PartialAsync("SocNavBar")

   <div class="container">
      <h3>All Subscribers</h3>

      @if (TempData["Message"] != null)
      {
         <div class="alert alert-@TempData["MsgType"]">
            @TempData["Message"]
         </div>
      }

      @if (Model != null)
      {
         <table class='table table-striped table-hover'>
            <tr>
               <th>ID</th>
               <th>Username</th>
               <th>First Name</th>
               <th>Family Name</th>
               <th>Birth Date</th>
               <th>Public Profile?</th>
               <th>Auto Accept Friends?</th>
               <th>Broadcast Posts?</th>
               <th>Action</th>
            </tr>

            @foreach (DataRow row in Model)
            {
               <tr>

                  <td>@row["subscriber_id"]</td>
                  <td>@row["username"]</td>
                  <td>@row["first_name"]</td>
                  <td>@row["family_name"]</td>
                  <td>@String.Format("{0:yyyy-MM-dd}", row["dob"])</td>
                  <td>@row["public_profile_flag"]</td>
                  <td>@row["auto_accept_friends_flag"]</td>
                  <td>@row["broadcast_posts_flag"]</td>

                  <td>
                     <a href="/Subscriber/SubscriberEdit/@row["subscriber_id"]">
                        Edit
                     </a>
                     |
                     <a href="/Subscriber/SubscriberDelete/@row["subscriber_id"]"
                        onclick="return confirm('Delete Subscriber [@row["username"]]')">
                        Delete
                     </a>
                  </td>
               </tr>
            }
         </table>
      }
      else
      {
         <p class="alert alert-danger">No Subscribers found.</p>
      }
   </div>

</body>
</html>
